# avalon_2 Development Guidelines

Auto-generated from all feature plans. Last updated: 2025-12-02

## Active Technologies
- TypeScript 5.x, Node.js (via Next.js 14.2.21) + Next.js (App Router), React 18, Supabase JS Client, Tailwind CSS (007-realtime-team-selection)
- Supabase Postgres (games table will store draft_team field) (007-realtime-team-selection)
- TypeScript 5.x with Next.js 14 (App Router) + React 18, Tailwind CSS 3.x, Next.js 14.2+ (008-center-game-messages)
- N/A (no database changes - uses existing game state) (008-center-game-messages)
- TypeScript 5.x with React 18 + Next.js 15, Tailwind CSS (012-player-indicators-ui)
- N/A (no data changes) (012-player-indicators-ui)
- TypeScript 5.x, React 18, Next.js 15 (App Router) + React, Tailwind CSS (013-inline-vote-reveal)
- N/A (uses existing gameState from useGameState hook) (013-inline-vote-reveal)
- TypeScript 5.x with Next.js 14 (App Router) + React 18, Tailwind CSS, existing UI components (Modal, Button) (014-rulebook-page)
- N/A (static content only, reuses `SPECIAL_ROLES` from `constants.ts`) (014-rulebook-page)
- TypeScript 5.x with Next.js 14 (App Router) + React 18, Next.js API Routes, existing game components (015-watcher-mode)
- In-memory Map for watcher sessions (NOT Supabase - per isolation requirements) (015-watcher-mode)
- TypeScript 5.7.2, React 18.3.1, Next.js 15.1.9 + `@supabase/supabase-js ^2.47.12` (Realtime included), React hooks (016-realtime-broadcast)
- Supabase Postgres (existing) - broadcast is ephemeral, no new tables (016-realtime-broadcast)
- TypeScript 5.x, React 18.x, Next.js 14.x (App Router) + React, Next.js, Supabase, Tailwind CSS (019-evil-ring-visibility)
- Supabase Postgres with RLS (019-evil-ring-visibility)
- TypeScript 5.x with React 18+ (Next.js App Router) + Next.js 14+, Supabase, React, Tailwind CSS (020-lunatic-brute-roles)
- Supabase PostgreSQL (player_roles table, role_config JSONB) (020-lunatic-brute-roles)

- TypeScript 5.x, Node.js 20.x + Next.js 14+ (App Router), React 18+, Supabase JS Client v2, Tailwind CSS 3.x (001-avalon-mvp-lobby)

## Project Structure

```text
src/
tests/
```

## Commands

npm test && npm run lint

## Code Style

TypeScript 5.x, Node.js 20.x: Follow standard conventions

## Recent Changes
- 020-lunatic-brute-roles: Added TypeScript 5.x with React 18+ (Next.js App Router) + Next.js 14+, Supabase, React, Tailwind CSS
- 019-evil-ring-visibility: Added TypeScript 5.x, React 18.x, Next.js 14.x (App Router) + React, Next.js, Supabase, Tailwind CSS
- 016-realtime-broadcast: Added TypeScript 5.7.2, React 18.3.1, Next.js 15.1.9 + `@supabase/supabase-js ^2.47.12` (Realtime included), React hooks


<!-- MANUAL ADDITIONS START -->
<!-- MANUAL ADDITIONS END -->
